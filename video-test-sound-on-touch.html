<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
</head>
<body>
</body>

<script>
    var log = function(msg) {
        var div = document.createElement("div");
        div.innerHTML = msg;
        document.body.appendChild(div);

    }


    log("test #3 : start Android autoplay with sound on with touch");
    log("<br><br>");
    log("<font color='red'>please touch any spot on this page</font> to start a test");

    var video = document.createElement("video");
    video.src = "http://acdn.adnxs.com/video/demos/content/videos/baby.mp4";
    video.width = 200;
    video.height = 100;
    video.muted = false;
    document.body.appendChild(video);
    video.style.visibility = "hidden";
    var playPromise;

    var isDone = false;
    document.body.addEventListener("touchend",function() {

        if (isDone) {
            return;
        }

        video.style.visibility = "visible";

        isDone = true;
        playPromise = video.play();


        if (playPromise !== undefined) {
            playPromise.then(function () {
                    log("result #3 : succeeded");
                }
            ).catch(function (error) {
                log("result #3 : failed due to " + error);
            });
        }


    });




</script>
</html>
